<div class="container-fluid px-0 bg-light">
  <app-header class=""></app-header>
  <div class="row mt-4">
    <app-nav class="flex-shrink-0 p-3 bg-white col-3 shadow mt-3"></app-nav>
    <div class="col-7 px-5">
      <h3>Tạo thông tin người dùng</h3>
      <form [formGroup]="formEmployee" (ngSubmit)="onSubmit()">
        <input type="text" value="" formControlName="id" hidden="">
        <table>
          <tBody>
          <tr>
            <th class="input-group-text">Họ Và Tên</th>
            <td>
              <div class="input-group ">
                <input id="name" formControlName="name" class="form-control" placeholder="Nhập Tên">
                <div style="color: red" *ngIf="formEmployee.get('name')?.touched&&formEmployee.get('name')?.hasError('required')">Bạn phải
                  nhập tên
                </div>
              </div>
            </td>
          </tr>
          <tr>
            <th class="input-group-text">Ngày Sinh</th>
            <td>
              <div class="input-group">
                <input type="date" id="birth" formControlName="birth" class="form-control" placeholder="Nhập ngày sinh"
                       (change)="validatorBirth($event)">
                <div style="color: red" *ngIf="validate.validatorDate.before" class="text-danger">Bạn phải nhập tuổi lớn hơn 16</div>
                <div style="color: red" *ngIf="validate.validatorDate.after" class="text-danger">Bạn phải nhập tuổi nhỏ hơn 100</div>
                <div style="color: red" *ngIf="formEmployee.get('birth')?.touched&&formEmployee.get('birth')?.hasError('required')">Bạn
                  phải nhập ngày tháng năm sinh
                </div>
              </div>
            </td>
          </tr>
          <tr hidden="hidden">
            <th class="input-group-text">Tuổi</th>
            <td>
              <div class="input-group">
                <input id="age" formControlName="age" class="form-control"
                       placeholder=""><br>
                <div style="color: red" *ngIf="formEmployee.get('age')?.touched&&formEmployee.get('age')?.hasError('required')">Bạn phải
                  nhập tuổi
                </div>
              </div>
            </td>
          </tr>
          <tr>
            <th class="input-group-text">Số Điện Thoại</th>
            <td>
              <div class="input-group">
                <input id="phoneNumber" formControlName="phoneNumber" class="form-control"
                       placeholder="Nhập số điện thoại">
                <div style="color: red"
                  *ngIf="formEmployee.get('phoneNumber')?.touched&&formEmployee.get('phoneNumber')?.hasError('required')">
                  Bạn phải nhập số điện thoại
                </div>
                <div style="color: red; font-size: small"
                  *ngIf="formEmployee.get('phoneNumber')?.touched&&formEmployee.get('phoneNumber')?.hasError('pattern')">
                  Bạn nhập sai định dạng số điện thoại(bắt đầu từ số 0 và có 10 số)
                </div>
              </div>
            </td>
          </tr>

          <tr formGroupName="position">
            <th class="input-group-text">Chức Vụ</th>
            <td>
              <div class="input-group">
                <select class="form-select" formControlName="id" id="position">
                  <option *ngFor="let a of adminEmployeeRenderService.employeeRender.positions"
                          value="{{a.id}}">{{a.name}}
                    & {{a.salary}}</option>
                </select>
                <div style="color: red"
                  *ngIf="formEmployee.get('position')?.get('id')?.touched && formEmployee.get('position')?.get('id')?.hasError('required')">
                  Bạn phải nhập chức vụ
                </div>
              </div>
            </td>
          </tr>

          <tr formGroupName="gender">
            <th class="input-group-text">Giới Tính</th>
            <td>
              <div class="input-group">
                <select class="form-select" formControlName="id" id="gender">
                  <option *ngFor="let a of adminEmployeeRenderService.employeeRender.genders"
                          value="{{a.id}}">{{a.name}}</option>
                </select>
                <div style="color: red"
                  *ngIf="formEmployee.get('gender')?.get('id')?.touched && formEmployee.get('gender')?.get('id')?.hasError('required')">
                  Bạn phải nhập giới tính
                </div>
              </div>
            </td>
          </tr>

          <tr formGroupName="status">
            <th class="input-group-text">Trạng Thái</th>
            <td>
              <div class="input-group">
                <select class="form-select" formControlName="id" id="status">
                  <option *ngFor="let a of adminEmployeeRenderService.employeeRender.status"
                          value="{{a.id}}">{{a.name}}</option>
                </select>
                <div style="color: red"
                  *ngIf="formEmployee.get('status')?.get('id')?.touched && formEmployee.get('status')?.get('id')?.hasError('required')">
                  Bạn phải nhập trạng thái
                </div>
              </div>
            </td>
          </tr>
          </tBody>
        </table>

        <h4>Tạo tài khoản đăng nhập </h4>
        <div class="mb-3 mt-3" formGroupName="user">
          <input type="text" value="" formControlName="id" hidden="">
          <div>
            <label for="name1" class="form-label">Nhập tên đăng nhập: </label>
            <input id="name1" formControlName="username" class="form-control">
            <div style="color: red"
              *ngIf="formEmployee.get('user')?.get('username')?.touched && formEmployee.get('user')?.get('username')?.hasError('required')">
              Bạn phải điền tên đăng nhập
            </div>
          </div>
          <div>
            <label for="password" class="form-label">Nhập mật khẩu: </label>
            <input type="password" id="password" formControlName="password" class="form-control"  >
            <div style="color: red"
              *ngIf="formEmployee.get('user')?.get('password')?.touched && formEmployee.get('user')?.get('password')?.hasError('required')">
              Bạn phải điền mật khẩu
            </div>
          </div>
          <!-- <div class="mb-3 mt-3" formGroupName="role">
            <label for="role" class="form-label">Role </label>
            <select class="form-select" formControlName="id" id="role">
              <option *ngFor="let a of adminEmployeeRenderService.employeeRender.roles"
                      value="{{a.id}}">{{a.name}}</option>
            </select>
            <div style="color: red"
              *ngIf="formEmployee.get('user')?.get('role')?.get('id')?.touched && formEmployee.get('user')?.get('role')?.get('id')?.hasError('required')">
              Bạn phải nhập quyền cho người dùng
            </div>
          </div> -->
          <button type="submit" class="btn btn-primary" [disabled]="!formEmployee.valid ">Save</button>
          <button (click)="back()" class="btn btn-primary">Back</button>
        </div>
      </form>
    </div>
  </div>

  <app-footer class="row row-cols-1 row-cols-sm-2 row-cols-md-5 py-5 my-5 border-top bg-white"></app-footer>

</div>
